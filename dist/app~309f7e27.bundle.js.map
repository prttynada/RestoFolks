{"version":3,"file":"app~309f7e27.bundle.js","mappings":";mWACA,0lNAqCA,QAnCkC,WAChC,cAAsC,IAAxBA,EAAc,EAAdA,eAAgBC,EAAI,EAAJA,MAHhC,4FAGoC,SAChCC,KAAKC,MAAQF,EACbC,KAAKE,+BACLF,KAAKG,gBAAkBL,CACzB,CAPF,UAaG,EAqBA,OAlCH,EAOG,EAPH,EAOG,2CAED,WAA+B,WAC7BE,KAAKC,MAAMG,wBAAuB,SAACC,GACjC,EAAKC,cAAcD,EACrB,GACF,GAAC,4BAbH,EAaG,UAED,WAAoBA,GAAW,uEACU,GAAvCL,KAAKO,aAAeF,EAAYG,SAG5BR,KAAKK,YAAYI,OAAS,GAAC,gCACTT,KAAKG,gBAAgBO,aAAaV,KAAKK,aAAY,OAAvEM,EAAc,EAAH,4CAESX,KAAKG,gBAAgBS,eAAc,OAAvDD,EAAc,EAAH,aAGbX,KAAKa,iBAAiBF,GAAa,gDAZpC,EAbH,8KA0BG,4EAED,SAAiBG,GACfd,KAAKC,MAAMc,mBAAmBD,EAChC,GAAC,uBAED,WACE,OAAOd,KAAKO,YACd,IAlCF,uEAkCG,EAhC+B,sNC6ClC,QAxC6B,sIAqC1B,SArC0B,8BAC3B,WACE,MAAO,yPAQT,GAAC,oCAED,SAAuBS,GACrBC,SAASC,eAAe,SAASC,iBAAiB,UAAU,SAACC,GAC3DJ,EAASI,EAAMC,OAAOC,MACxB,GACF,GAAC,gCAED,WAAqC,IAC/BC,EADaT,EAAc,UAAH,6CAAG,GAG7BS,EADET,EAAYL,OACPK,EAAYU,QACjB,SAACC,EAAOC,GAAU,OAChBD,EAAME,QAAOC,EAAAA,EAAAA,IAAwBF,GAAY,GACnD,IAGK1B,KAAK6B,yBAGdZ,SAASC,eAAe,SAASY,UAAYP,EAE7CN,SAASC,eAAe,SAASa,cAAc,IAAIC,MAAM,iBAC3D,GAAC,oCAED,WACE,MAAO,4EACT,2EAAC,EArC0B,4ECFvBJ,gBAA0B,SAACF,GAAU,gLAKnBO,EAAAA,EAAAA,eAAwBP,EAAWQ,UAAS,+BACjDR,EAAWS,MAAQ,IAAG,yKAIoBT,EAAWU,GAAE,aACxEV,EAAWS,MAAQ,IAAG,kFAIVT,EAAWW,aAAe,IAAG,4CAMrCC,EAA4B,SAACZ,GAAU,+EAEZA,EAAWS,KAAI,yDAEtCF,EAAAA,EAAAA,eAAwBP,EAAWQ,UAAS,kBACpCR,EAAWS,KAAI,0GAGnBT,EAAWa,OAAM,qEAGdb,EAAWc,QAAO,2DAElBd,EAAWe,KAAI,yKAKXf,EAAWW,YAAW,iPAOjBX,EAAWgB,MAAMC,MAChBC,KAEC,SAACC,GAAI,qBAAaA,EAAKV,KAAI,aAE5BW,KAAK,IAAG,yMAMTpB,EAAWgB,MAAMK,OAChBH,KAEC,SAACI,GAAK,qBAAaA,EAAMb,KAAI,aAE9BW,KAAK,IAAG,kNAObpB,EAAWuB,gBACVL,KACC,SAACM,GAAM,gFAEGA,EAAOf,KAAI,4EACgBe,EAAOC,KAAI,+CACvCD,EAAOA,OAAM,yCAGvBJ,KAAK,IAAG,iFAOzBM,EAAgC,WAAH,sJAM7BC,EAAkC,WAAH,qLC9ErC,QAlBA,MACEC,aAAY,KAAEvD,EAAI,eAAED,IAClBE,KAAKC,MAAQF,EACbC,KAAKG,gBAAkBL,EAEvBE,KAAKuD,qBACP,CAEAC,4BACE,MAAM1C,QAAoBd,KAAKG,gBAAgBS,eAC/CZ,KAAKyD,eAAe3C,EACtB,CAEA2C,eAAe3C,GACbd,KAAKC,MAAMc,mBAAmBD,EAChC","sources":["webpack://restaurant-apps/./src/scripts/views/pages/liked-restos/favorite-resto-search-presenter.js","webpack://restaurant-apps/./src/scripts/views/pages/liked-restos/favorite-resto-search-view.js","webpack://restaurant-apps/./src/scripts/views/templates/template-creator.js","webpack://restaurant-apps/./src/scripts/views/pages/liked-restos/favorite-resto-show-presenter"],"sourcesContent":["/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable comma-dangle */\r\n/* eslint-disable class-methods-use-this */\r\nclass FavoriteRestoSearchPresenter {\r\n  constructor({ favoriteRestos, view }) {\r\n    this._view = view;\r\n    this._listenToSearchRequestByUser();\r\n    this._favoriteRestos = favoriteRestos;\r\n  }\r\n\r\n  _listenToSearchRequestByUser() {\r\n    this._view.runWhenUserIsSearching((latestQuery) => {\r\n      this._searchRestos(latestQuery);\r\n    });\r\n  }\r\n\r\n  async _searchRestos(latestQuery) {\r\n    this._latestQuery = latestQuery.trim();\r\n\r\n    let foundRestos;\r\n    if (this.latestQuery.length > 0) {\r\n      foundRestos = await this._favoriteRestos.searchRestos(this.latestQuery);\r\n    } else {\r\n      foundRestos = await this._favoriteRestos.getAllRestos();\r\n    }\r\n\r\n    this._showFoundRestos(foundRestos);\r\n  }\r\n\r\n  _showFoundRestos(restaurants) {\r\n    this._view.showFavoriteRestos(restaurants);\r\n  }\r\n\r\n  get latestQuery() {\r\n    return this._latestQuery;\r\n  }\r\n}\r\n\r\nexport default FavoriteRestoSearchPresenter;\r\n","/* eslint-disable operator-linebreak */\r\n/* eslint-disable comma-dangle */\r\n/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable class-methods-use-this */\r\n\r\nimport { createRestoItemTemplate } from '../../templates/template-creator';\r\n\r\n/* eslint-disable no-unused-vars */\r\nclass FavoriteRestoSearchView {\r\n  getTemplate() {\r\n    return `\r\n      <div class=\"resto-list\">\r\n        <input id=\"query\" type=\"text\" placeholder=\"Search Restaurant...\">\r\n        <h1 class=\"resto-list__label\">Explore Restaurants</h1>\r\n        <div id=\"posts\" class=\"posts\">\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  runWhenUserIsSearching(callback) {\r\n    document.getElementById('query').addEventListener('change', (event) => {\r\n      callback(event.target.value);\r\n    });\r\n  }\r\n\r\n  showFavoriteRestos(restaurants = []) {\r\n    let html;\r\n    if (restaurants.length) {\r\n      html = restaurants.reduce(\r\n        (carry, restaurant) =>\r\n          carry.concat(createRestoItemTemplate(restaurant)),\r\n        ''\r\n      );\r\n    } else {\r\n      html = this._getEmptyMovieTemplate();\r\n    }\r\n\r\n    document.getElementById('posts').innerHTML = html;\r\n\r\n    document.getElementById('posts').dispatchEvent(new Event('resto:updated'));\r\n  }\r\n\r\n  _getEmptyMovieTemplate() {\r\n    return '<div class=\"post-item__not__found\">Tidak ada resto untuk ditampilkan</div>';\r\n  }\r\n}\r\n\r\nexport default FavoriteRestoSearchView;\r\n","/* eslint-disable comma-dangle */\r\n/* eslint-disable indent */\r\nimport CONFIG from '../../globals/config';\r\nimport 'lazysizes';\r\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\r\n\r\nconst createRestoItemTemplate = (restaurant) => `\r\n    <article id=\"post-item\" class='post-item'>\r\n        <img\r\n            class=\"lazyload\"\r\n            class=\"post-item__thumbnail\"\r\n            data-src=\"${CONFIG.BASE_IMAGE_URL + restaurant.pictureId}\"\r\n            alt=\"${restaurant.name || '-'}\"\r\n        />\r\n        <div class=\"post-item__content\">\r\n            <h1 class=\"post-item__name\">\r\n                <a class=\"post-item__title\" href=\"#/detail/${restaurant.id}\">${\r\n  restaurant.name || '-'\r\n}</a>\r\n            </h1>\r\n            <p class=\"post-item__description\">${\r\n              restaurant.description || '-'\r\n            }</p>\r\n        </div>\r\n    </article>\r\n`;\r\n\r\nconst createRestoDetailTemplate = (restaurant) => `\r\n    <article class='item'>\r\n        <h2 class=\"item__name\">${restaurant.name}</h2>\r\n        <img class=\"item__poster\" src=\"${\r\n          CONFIG.BASE_IMAGE_URL + restaurant.pictureId\r\n        }\" alt=\"${restaurant.name}\" />\r\n        <div class=\"item__header\">\r\n            <p class=\"item__rating\"> Rating: ⭐️<span>${\r\n              restaurant.rating\r\n            }</span></p>\r\n            <h4>Address</h4>\r\n            <p>${restaurant.address}</p>\r\n            <h4>City</h4>\r\n            <p>${restaurant.city}</p>\r\n        </div>\r\n        <div class=\"item__info\">\r\n            <div class=\"item__description\">\r\n                <h3>Description</h3>\r\n                <p>${restaurant.description}</p>\r\n            </div>\r\n            <div class=\"item__menu\">\r\n                <h3>Menu</h3>\r\n                <div class=\"item__menu__foods\">\r\n                    <h4>Foods</h4>\r\n                    <ol>\r\n                        ${restaurant.menus.foods\r\n                          .map(\r\n                            // eslint-disable-next-line comma-dangle\r\n                            (food) => `<li> ${food.name} </li>`\r\n                          )\r\n                          .join('')}\r\n                    </ol>\r\n                </div>\r\n                <div class=\"item__menu__drinks\">\r\n                    <h4>Drinks</h4>\r\n                    <ol>\r\n                        ${restaurant.menus.drinks\r\n                          .map(\r\n                            // eslint-disable-next-line comma-dangle\r\n                            (drink) => `<li> ${drink.name} </li>`\r\n                          )\r\n                          .join('')}\r\n                    </ol>\r\n                </div>\r\n            </div>\r\n            <div class=\"item__reviews\">\r\n                <h3>Customer Reviews</h3>\r\n                <ol>\r\n                    ${restaurant.customerReviews\r\n                      .map(\r\n                        (review) => `\r\n                        <li>\r\n                            <h4>${review.name}<h4>\r\n                            <p class=\"item__reviews__date\">${review.date}<p>\r\n                            <p>${review.review}<p>\r\n                        </li>`\r\n                      )\r\n                      .join('')}\r\n                <ol>\r\n            </div>\r\n        </div>\r\n    </article>\r\n`;\r\n\r\nconst createLikeRestoButtonTemplate = () => `\r\n  <button aria-label=\"like this resto\" id=\"likeButton\" class=\"like\">\r\n     <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nconst createUnlikeRestoButtonTemplate = () => `\r\n  <button aria-label=\"unlike this resto\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nexport {\r\n  createRestoDetailTemplate,\r\n  createRestoItemTemplate,\r\n  createLikeRestoButtonTemplate,\r\n  createUnlikeRestoButtonTemplate,\r\n};\r\n","/* eslint-disable class-methods-use-this */\r\nclass FavoriteRestoShowPresenter {\r\n  constructor({ view, favoriteRestos }) {\r\n    this._view = view;\r\n    this._favoriteRestos = favoriteRestos;\r\n\r\n    this._showFavoriteRestos();\r\n  }\r\n\r\n  async _showFavoriteRestos() {\r\n    const restaurants = await this._favoriteRestos.getAllRestos();\r\n    this._displayRestos(restaurants);\r\n  }\r\n\r\n  _displayRestos(restaurants) {\r\n    this._view.showFavoriteRestos(restaurants);\r\n  }\r\n}\r\n\r\nexport default FavoriteRestoShowPresenter;\r\n"],"names":["favoriteRestos","view","this","_view","_listenToSearchRequestByUser","_favoriteRestos","runWhenUserIsSearching","latestQuery","_searchRestos","_latestQuery","trim","length","searchRestos","foundRestos","getAllRestos","_showFoundRestos","restaurants","showFavoriteRestos","callback","document","getElementById","addEventListener","event","target","value","html","reduce","carry","restaurant","concat","createRestoItemTemplate","_getEmptyMovieTemplate","innerHTML","dispatchEvent","Event","CONFIG","pictureId","name","id","description","createRestoDetailTemplate","rating","address","city","menus","foods","map","food","join","drinks","drink","customerReviews","review","date","createLikeRestoButtonTemplate","createUnlikeRestoButtonTemplate","constructor","_showFavoriteRestos","async","_displayRestos"],"sourceRoot":""}